import { Button, ScrollView, VerticalBox, HorizontalBox, GroupBox } from "std-widgets.slint";

export component AboutDialog inherits Rectangle {
    callback close_dialog();
    
    // 模态背景
    background: rgba(0, 0, 0, 0.5);
    
    // 对话框窗口
    Rectangle {
        width: 800px;
        height: 600px;
        x: (parent.width - self.width) / 2;
        y: (parent.height - self.height) / 2;
        background: white;
        border-radius: 8px;
        drop-shadow-blur: 16px;
        drop-shadow-color: rgba(0, 0, 0, 0.3);
        
        VerticalLayout {
            padding: 20px;
            spacing: 20px;
        
        // 标题区域
        HorizontalLayout {
            alignment: center;
            
            VerticalLayout {
                alignment: center;
                spacing: 10px;
                
                Text {
                    text: "R球编辑器 (ReMnBWarband Editor)";
                    font-size: 28px;
                    font-weight: 700;
                    color: #2563eb;
                    horizontal-alignment: center;
                }
                
                Text {
                    text: "版本 0.0.1beta ";
                    font-size: 16px;
                    color: #64748b;
                    horizontal-alignment: center;
                }
            }
        }
        
        // 内容区域
        ScrollView {
            VerticalLayout {
                spacing: 16px;
                
                // 项目介绍
                GroupBox {
                    title: "项目介绍";
                    
                    VerticalLayout {
                        spacing: 12px;
                        
                        Text {
                            text: "R球编辑器是基于原版MnBWarband Editor的现代化重构版本，采用Rust + Slint技术栈开发。";
                            wrap: word-wrap;
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "本编辑器用于查看、修改《骑马与砍杀：战团》游戏的MOD内容，支持物品、兵种、触发器等各种游戏元素的编辑。";
                            wrap: word-wrap;
                            font-size: 14px;
                        }
                    }
                }
                
                // 原版开发团队
                GroupBox {
                    title: "原版开发团队致敬";
                    
                    VerticalLayout {
                        spacing: 12px;
                        
                        Text {
                            text: "参与人员:";
                            font-weight: 700;
                            font-size: 14px;
                            color: #1e40af;
                        }
                        
                        Text {
                            text: "• 主程序: SSgt_Edward, Ser_Charles";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "• 美工: 我不是个过客(hp_honey)";
                            font-size: 14px;
                        }
                        
                        Rectangle {
                            height: 12px;
                        }
                        
                        Text {
                            text: "各个编辑器、工具负责人:";
                            font-weight: 700;
                            font-size: 14px;
                            color: #1e40af;
                        }
                        
                        Text {
                            text: "• 兵种: SSgt_Edward\n• 物品: Ser_Charles\n• 部队: SSgt_Edward\n• 部队模板: SSgt_Edward\n• 阵营: SSgt_Edward\n• 场景: SSgt_Edward\n• 大地图图标: SSgt_Edward\n• 卡拉迪亚地图: SSgt_Edward\n• 粒子系统: Ser_Charles\n• 可变素材: Ser_Charles\n• 声音: SSgt_Edward\n• 声音资源: SSgt_Edward\n• 备份管理器: SSgt_Edward\n• 物品导入向导: SSgt_Edward";
                            font-size: 14px;
                            wrap: word-wrap;
                        }
                    }
                }
                
                // 技术栈
                GroupBox {
                    title: "技术栈 (Rust重构版)";
                    
                    VerticalLayout {
                        spacing: 8px;
                        
                        Text {
                            text: "• 后端: Rust 1.70+";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "• UI框架: Slint 1.3+ (原生GUI)";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "• Python集成: PyO3 0.20+";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "• 数据库: SQLite + Sea-ORM";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "• 构建工具: Cargo";
                            font-size: 14px;
                        }
                    }
                }
                
                // 特别感谢
                GroupBox {
                    title: "特别感谢";
                    
                    VerticalLayout {
                        spacing: 8px;
                        
                        Text {
                            text: "• 感谢骑砍中文站的kevin, kiss2003, mafei82394开放了《骑马砍杀TXT编辑器》的源代码";
                            font-size: 14px;
                            wrap: word-wrap;
                        }
                        
                        Text {
                            text: "• 感谢骑砍中文站《骑马与砍杀MOD制作教程－中文版》的汉化组为我们带来的MOD教程";
                            font-size: 14px;
                            wrap: word-wrap;
                        }
                        
                        Text {
                            text: "• 感谢百度骑马与砍杀吧和骑砍中文站的汽油们对MnBWarband Editor的关注与支持!";
                            font-size: 14px;
                            wrap: word-wrap;
                        }
                    }
                }
                
                // 联系信息
                GroupBox {
                    title: "联系我们 (原版开发者)";
                    
                    VerticalLayout {
                        spacing: 8px;
                        
                        Text {
                            text: "E-mail: ce1992620@yahoo.com.cn";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "        ce19920620@gmail.com";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "QQ: 1061675615";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "    825312405";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "魔球讨论群: 74195097";
                            font-size: 14px;
                        }
                    }
                }
                
                // 声明
                GroupBox {
                    title: "声明";
                    
                    VerticalLayout {
                        spacing: 8px;
                        
                        Text {
                            text: "• MnBWarband Editor在战团1.132环境下编写并经过测试";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "• 在MnBWarband Editor版本稳定之后，会开放源代码(VB)";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "• R球编辑器(Rust重构版)基于MIT许可证开源";
                            font-size: 14px;
                        }
                        
                        Text {
                            text: "欢迎随时将您遇到的使用问题、Bug告诉我们，帮助我们完善编辑器!";
                            font-size: 14px;
                            wrap: word-wrap;
                            color: #059669;
                            font-weight: 600;
                        }
                    }
                }
            }
        }
        
        // 按钮区域
        HorizontalLayout {
            alignment: end;
            
            Button {
                text: "确认";
                primary: true;
                clicked => {
                    root.close_dialog();
                }
            }
        }
        }
    }
    
    // 点击背景关闭对话框
    TouchArea {
        clicked => { root.close_dialog(); }
    }
}
